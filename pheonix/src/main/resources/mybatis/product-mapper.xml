<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="product">

	<!-- 데이터 삽입 -->
	<select id="productSequence" resultType="int">
		select product_seq.nextval from dual
	</select>
	<insert id="productAdd">
		insert into product(
			product_no, product_name, product_type,
			product_price, product_origin
		)
		values(
			#{productNo}, #{productName}, #{productType},
			#{productPrice}, #{productOrigin}
		)
	</insert>
	
	<!-- 데이터 조회 -->
	<!-- 전체 조회 -->
	<select id="productList" resultType="ProductDto">
		select * from product order by product_no asc
	</select>
	
	<!-- 종류별 조회 -->
	<select id="productFind" resultType="ProductDto">
		select * from product where product_type = #{productType}
	</select>
	
	<!-- 복합 검색 -->
	<!-- <select id="productComplex" resultType="ProductDto">
		select * from product
		
		조건
		<where>
			상품명 검색
			<if test="productName != null"> and instr(product_name, #{productName}) > 0</if>
			상품 타입
			<if test="productType != null">and instr(product_type, #{productType}) > 0</if>		
		</where>
	</select> -->

</mapper>